import { createContext, useContext, useState, useEffect } from 'react';

const translations = {
    tr: {
        online_order: 'Online SipariÅŸ',
        select_product: 'ÃœrÃ¼n SeÃ§',
        write_order: 'Yazarak SipariÅŸ',
        ai_placeholder: 'SipariÅŸinizi buraya yazÄ±n... Ã–rn: 2 Mercimek Ã§orbasÄ±',
        add_to_list: 'Listeye Ekle',
        cart: 'Sepetiniz',
        delivery_method: 'Teslimat YÃ¶ntemi',
        home_delivery: 'Eve Teslimat',
        pickup: 'Evden AlacaÄŸÄ±m',
        your_info: 'Bilgileriniz',
        full_name: 'AdÄ±nÄ±z SoyadÄ±nÄ±z',
        phone_number: 'Telefon NumaranÄ±z',
        address: 'Teslimat Adresi',
        order_date: 'SipariÅŸ Tarihi',
        notes: 'Ek Notlar',
        notes_placeholder: 'Alerjiler veya Ã¶zel istekler...',
        subtotal: 'Ara Toplam',
        delivery_fee: 'Teslimat Ãœcreti',
        total: 'Toplam',
        confirm_order: 'SipariÅŸi Onayla',
        success_title: 'SipariÅŸiniz AlÄ±ndÄ±!',
        success_message: 'Mezzesalade\'yi tercih ettiÄŸiniz iÃ§in teÅŸekkÃ¼r ederiz.',
        order_summary: 'SipariÅŸ Ã–zeti',
        new_order_btn: 'Yeni SipariÅŸ OluÅŸtur',
        login_msg: 'Ã–nceki sipariÅŸlerinizi gÃ¶rmek ve bilgilerinizi otomatik doldurmak iÃ§in telefon numaranÄ±zÄ± girin.',
        login_btn: 'Beni TanÄ±',
        previous_orders: 'GeÃ§miÅŸ SipariÅŸleriniz',
        no_orders: 'HenÃ¼z sipariÅŸiniz bulunmuyor.',
        logout: 'Ã‡Ä±kÄ±ÅŸ Yap',
        identifying: 'Kimlik DoÄŸrulanÄ±yor...',
        optional: 'Opsiyonel',
        edit: 'DÃ¼zenle',
        update_order: 'SipariÅŸi GÃ¼ncelle',
        status_new: 'Yeni',
        status_preparing: 'HazÄ±rlanÄ±yor',
        status_ready: 'HazÄ±r',
        status_delivered: 'Teslim Edildi',
        cannot_edit: 'Bu sipariÅŸ iÅŸleme alÄ±ndÄ±ÄŸÄ± iÃ§in artÄ±k dÃ¼zenlenemez.',
        cancel: 'Ä°ptal',
        shortcut_tip: 'ðŸ’¡ Ä°pucu: Bu sayfayÄ± telefonunuzun ana ekranÄ±na ekleyerek ("Ana Ekrana Ekle") bir uygulama gibi hÄ±zlÄ±ca sipariÅŸ verebilirsiniz.',
        get_directions: 'Yol Tarifi Al',
        pickup_address_title: 'Teslim Alma Adresi',
        date_confirmation_note: 'Not: SeÃ§ilen tarih iÃ§in mÃ¼saitlik durumumuzu onaylamak Ã¼zere sizinle iletiÅŸime geÃ§eceÄŸiz.',
        filter_by_diet: 'Diyete GÃ¶re Filtrele',
        diet_v: 'Vegan',
        diet_vg: 'Vegetarian',
        diet_gf: 'Gluten-Free',
        diet_n: 'KuruyemiÅŸ Ä°Ã§erir',
        order_overview: 'SipariÅŸ Ã–zeti',
        confirm_and_send: 'Onayla ve GÃ¶nder',
        edit_order: 'DÃ¼zenle',
        added_to_cart: 'Sepete eklendi!',
    },
    en: {
        online_order: 'Online Order',
        select_product: 'Select Product',
        write_order: 'Order by Text',
        ai_placeholder: 'Write your order here... e.g. 2 Lentil soup',
        add_to_list: 'Add to List',
        cart: 'Your Cart',
        delivery_method: 'Delivery Method',
        home_delivery: 'Home Delivery',
        pickup: 'Pick up from home',
        your_info: 'Your Information',
        full_name: 'Full Name',
        phone_number: 'Phone Number',
        address: 'Delivery Address',
        order_date: 'Order Date',
        notes: 'Additional Notes',
        notes_placeholder: 'Allergies or special requests...',
        subtotal: 'Subtotal',
        delivery_fee: 'Delivery Fee',
        total: 'Total',
        confirm_order: 'Confirm Order',
        success_title: 'Order Received!',
        success_message: 'Thank you for choosing Mezzesalade.',
        order_summary: 'Order Summary',
        new_order_btn: 'Create New Order',
        login_msg: 'Enter your phone number to see previous orders and auto-fill your info.',
        login_btn: 'Identify Me',
        previous_orders: 'Your Previous Orders',
        no_orders: 'You have no orders yet.',
        logout: 'Logout',
        identifying: 'Identifying...',
        optional: 'Optional',
        edit: 'Edit',
        update_order: 'Update Order',
        status_new: 'New',
        status_preparing: 'Preparing',
        status_ready: 'Ready',
        status_delivered: 'Delivered',
        cannot_edit: 'This order is being processed and cannot be edited anymore.',
        cancel: 'Cancel',
        shortcut_tip: 'ðŸ’¡ Tip: Add this page to your home screen ("Add to Home Screen") to place orders quickly like an app.',
        get_directions: 'Get Directions',
        pickup_address_title: 'Pick-up Address',
        date_confirmation_note: 'Note: We will contact you to confirm our availability for the selected date.',
        filter_by_diet: 'Filter by Diet',
        diet_v: 'Vegan',
        diet_vg: 'Vegetarian',
        diet_gf: 'Gluten-Free',
        diet_n: 'Contains Nuts',
        order_overview: 'Order Overview',
        confirm_and_send: 'Confirm & Send',
        edit_order: 'Edit',
        added_to_cart: 'Added to cart!',
    },
    nl: {
        online_order: 'Online Bestellen',
        select_product: 'Product Selecteren',
        write_order: 'Bestellen via Tekst',
        ai_placeholder: 'Schrijf hier uw bestelling... bijv. 2 Linzensoep',
        add_to_list: 'Voeg toe aan lijst',
        cart: 'Uw Winkelmandje',
        delivery_method: 'Bezorgmethode',
        home_delivery: 'Thuisbezorging',
        pickup: 'Afhalen',
        your_info: 'Uw Informatie',
        full_name: 'Volledige Naam',
        phone_number: 'Telefoonnummer',
        address: 'Bezorgadres',
        order_date: 'Besteldatum',
        notes: 'Extra Notities',
        notes_placeholder: 'AllergieÃ«n of speciale verzoeken...',
        subtotal: 'Subtotaal',
        delivery_fee: 'Bezorgkosten',
        total: 'Totaal',
        confirm_order: 'Bestelling Bevestigen',
        success_title: 'Bestelling Ontvangen!',
        success_message: 'Bedankt dat u voor Mezzesalade heeft gekozen.',
        order_summary: 'Bestelling Overzicht',
        new_order_btn: 'Nieuwe Bestelling Plaatsen',
        login_msg: 'Voer uw telefoonnummer in om eerdere bestellingen te zien en uw gegevens automatisch in te vullen.',
        login_btn: 'Identificeer Mij',
        previous_orders: 'Uw Vorige Bestelling',
        no_orders: 'U heeft nog geen bestellingen.',
        logout: 'Uitloggen',
        identifying: 'Identificeren...',
        optional: 'Optioneel',
        edit: 'Bewerken',
        update_order: 'Bestelling Bijwerken',
        status_new: 'Nieuw',
        status_preparing: 'Voorbereiden',
        status_ready: 'Gereed',
        status_delivered: 'Geleverd',
        cannot_edit: 'Deze bestelling wordt verwerkt ve kan niet meer worden bewerkt.',
        cancel: 'Annuleren',
        shortcut_tip: 'ðŸ’¡ Tip: Voeg deze pagina toe aan uw beginscherm ("Zet op beginscherm") om snel bestellingen te plaatsen, net als bir app.',
        get_directions: 'Routebeschrijving',
        pickup_address_title: 'Afhaaladres',
        date_confirmation_note: 'Let op: We nemen contact met u op om onze beschikbaarheid voor de geselecteerde datum te bevestigen.',
        filter_by_diet: 'Filter op dieet',
        diet_v: 'Vegan',
        diet_vg: 'Vegetarisch',
        diet_gf: 'Glutenvrij',
        diet_n: 'Bevat noten',
        order_overview: 'Besteloverzicht',
        confirm_and_send: 'Bevestigen & Verzenden',
        edit_order: 'Bewerken',
        added_to_cart: 'Toegevoegd aan winkelwagen!',
    }
};

const LanguageContext = createContext();

export function LanguageProvider({ children }) {
    const [lang, setLang] = useState(localStorage.getItem('lang') || 'tr');

    useEffect(() => {
        localStorage.setItem('lang', lang);
    }, [lang]);

    const t = (key) => {
        return translations[lang][key] || key;
    };

    return (
        <LanguageContext.Provider value={{ lang, setLang, t }}>
            {children}
        </LanguageContext.Provider>
    );
}

export function useLanguage() {
    return useContext(LanguageContext);
}
